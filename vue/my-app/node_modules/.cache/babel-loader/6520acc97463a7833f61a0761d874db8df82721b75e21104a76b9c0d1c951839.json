{"ast":null,"code":"import _Element2 from \"element-ui/lib/theme-chalk/index.css\";\nimport _Element from \"element-ui/lib\";\nimport Vue from 'vue';\nimport App from './App.vue';\nimport 'element-ui/lib/theme-chalk/index.css';\n// import {Button} from \"element-ui\";\nimport router from \"./router/index\";\nimport './api/mock';\nimport Cookie from \"js-cookie\";\nimport store from \"@/store\";\nVue.config.productionTip = false;\n\n// 全局注入\nVue.use(_Element);\nVue.use(router);\nrouter.beforeEach((to, from, next) => {\n  const token = Cookie.get('token');\n\n  // token不存在且跳转业务页时\n  if (!token && to.name !== 'login') {\n    next({\n      name: 'login'\n    });\n  } else if (token && to.name === 'login') {\n    next({\n      name: 'home'\n    });\n  } else {\n    next();\n  }\n});\n\n// 按需引入\n// Vue.use(Button)\n\nnew Vue({\n  store,\n  router,\n  render: h => h(App),\n  created() {\n    store.commit('addMenu', router);\n  }\n}).$mount('#app');","map":{"version":3,"names":["Vue","App","router","Cookie","store","config","productionTip","use","_Element","beforeEach","to","from","next","token","get","name","render","h","created","commit","$mount"],"sources":["F:/Program Files/代码/1000.my-app/my-app/src/main.js"],"sourcesContent":["import Vue from 'vue'\nimport App from './App.vue'\nimport Element from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\n// import {Button} from \"element-ui\";\nimport router from \"./router/index\";\nimport './api/mock'\nimport Cookie from \"js-cookie\";\nimport store from \"@/store\";\n\nVue.config.productionTip = false\n\n// 全局注入\nVue.use(Element)\nVue.use(router)\n\n\nrouter.beforeEach((to,from,next)=>{\n  const token=Cookie.get('token')\n\n  // token不存在且跳转业务页时\n  if(!token && to.name!=='login'){\n    next({name:'login'})\n  }else if (token && to.name==='login'){\n    next({name:'home'})\n  }else {\n    next()\n  }\n}\n)\n\n\n// 按需引入\n// Vue.use(Button)\n\nnew Vue({\n  store,\n  router,\n  render: h => h(App),\n  created() {\n    store.commit('addMenu',router)\n  }\n}).$mount('#app')\n"],"mappings":";;AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,GAAG,MAAM,WAAW;AAE3B,OAAO,sCAAsC;AAC7C;AACA,OAAOC,MAAM,MAAM,gBAAgB;AACnC,OAAO,YAAY;AACnB,OAAOC,MAAM,MAAM,WAAW;AAC9B,OAAOC,KAAK,MAAM,SAAS;AAE3BJ,GAAG,CAACK,MAAM,CAACC,aAAa,GAAG,KAAK;;AAEhC;AACAN,GAAG,CAACO,GAAG,CAAAC,QAAQ,CAAC;AAChBR,GAAG,CAACO,GAAG,CAACL,MAAM,CAAC;AAGfA,MAAM,CAACO,UAAU,CAAC,CAACC,EAAE,EAACC,IAAI,EAACC,IAAI,KAAG;EAChC,MAAMC,KAAK,GAACV,MAAM,CAACW,GAAG,CAAC,OAAO,CAAC;;EAE/B;EACA,IAAG,CAACD,KAAK,IAAIH,EAAE,CAACK,IAAI,KAAG,OAAO,EAAC;IAC7BH,IAAI,CAAC;MAACG,IAAI,EAAC;IAAO,CAAC,CAAC;EACtB,CAAC,MAAK,IAAIF,KAAK,IAAIH,EAAE,CAACK,IAAI,KAAG,OAAO,EAAC;IACnCH,IAAI,CAAC;MAACG,IAAI,EAAC;IAAM,CAAC,CAAC;EACrB,CAAC,MAAK;IACJH,IAAI,CAAC,CAAC;EACR;AACF,CACA,CAAC;;AAGD;AACA;;AAEA,IAAIZ,GAAG,CAAC;EACNI,KAAK;EACLF,MAAM;EACNc,MAAM,EAAEC,CAAC,IAAIA,CAAC,CAAChB,GAAG,CAAC;EACnBiB,OAAOA,CAAA,EAAG;IACRd,KAAK,CAACe,MAAM,CAAC,SAAS,EAACjB,MAAM,CAAC;EAChC;AACF,CAAC,CAAC,CAACkB,MAAM,CAAC,MAAM,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}