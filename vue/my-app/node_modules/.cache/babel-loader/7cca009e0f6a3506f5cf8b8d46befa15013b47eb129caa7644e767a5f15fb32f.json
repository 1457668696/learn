{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Cookie from \"js-cookie\";\nimport Router from \"@/router\";\nexport default {\n  state: {\n    isCollapse: false,\n    /*控制菜单展开还是收起*/\n    menu: []\n  },\n  mutations: {\n    collapseMenu(state) {\n      state.isCollapse = !state.isCollapse;\n    },\n    // 设置菜单\n    setMenu(state, val) {\n      state.menu = val;\n      // 存入缓存,cookie必须是字符串可以要转换\n      Cookie.set('menu', JSON.stringify(val));\n    },\n    // 动态路由注册\n    addMenu(state, router) {\n      // 判断缓存中是否有数据\n      if (!Cookie.get('menu')) return;\n      const menu = JSON.parse(Cookie.get('menu'));\n      state.menu = menu;\n      const menuArray = [];\n      menu.forEach(item => {\n        if (item.children) {\n          item.children.map(item => {\n            item.component = () => import(`../views/${item.url}`);\n            return item;\n          });\n          menuArray.push(...item.children);\n        } else {\n          item.component = () => import(`../views/${item.url}`);\n          menuArray.push(item);\n        }\n        router.options.routes = item;\n        router.matcher = new Router.matcher(); //match\n        router.addRoutes(router.options.routes);\n        menuArray.forEach(item => {\n          router.addRoute('main', item);\n        });\n      });\n    }\n  }\n};","map":{"version":3,"names":["Cookie","Router","state","isCollapse","menu","mutations","collapseMenu","setMenu","val","set","JSON","stringify","addMenu","router","get","parse","menuArray","forEach","item","children","map","component","url","push","options","routes","matcher","addRoutes","addRoute"],"sources":["F:/Program Files/代码/1000.my-app/my-app/src/store/tab.js"],"sourcesContent":["import Cookie from \"js-cookie\";\r\nimport Router from \"@/router\";\r\nexport default {\r\n    state: {\r\n        isCollapse: false,      /*控制菜单展开还是收起*/\r\n        menu:[]\r\n    },\r\n\r\n    mutations: {\r\n        collapseMenu(state) {\r\n            state.isCollapse = !state.isCollapse\r\n        },\r\n\r\n        // 设置菜单\r\n        setMenu(state, val) {\r\n            state.menu = val\r\n            // 存入缓存,cookie必须是字符串可以要转换\r\n            Cookie.set('menu',JSON.stringify(val))\r\n        },\r\n\r\n        // 动态路由注册\r\n        addMenu(state,router){\r\n               // 判断缓存中是否有数据\r\n               if (!Cookie.get('menu')) return\r\n\r\n               const menu=JSON.parse(Cookie.get('menu'))\r\n               state.menu=menu\r\n\r\n              const menuArray=[]\r\n               menu.forEach(item=>{\r\n                   if(item.children){\r\n                       item.children.map(item=>{\r\n                           item.component= ()=>import(`../views/${item.url}`)\r\n                           return item;\r\n                       })\r\n                       menuArray.push(...item.children)\r\n                   }else {\r\n                       item.component= ()=>import(`../views/${item.url}`)\r\n                       menuArray.push(item)\r\n                   }\r\n\r\n                  router.options.routes = item\r\n                   router.matcher = new Router.matcher //match\r\n                   router.addRoutes(router.options.routes)\r\n                   menuArray.forEach(item=>{\r\n                       router.addRoute('main',item)\r\n                   })\r\n\r\n               })\r\n\r\n        }\r\n\r\n    }\r\n\r\n}"],"mappings":";AAAA,OAAOA,MAAM,MAAM,WAAW;AAC9B,OAAOC,MAAM,MAAM,UAAU;AAC7B,eAAe;EACXC,KAAK,EAAE;IACHC,UAAU,EAAE,KAAK;IAAO;IACxBC,IAAI,EAAC;EACT,CAAC;EAEDC,SAAS,EAAE;IACPC,YAAYA,CAACJ,KAAK,EAAE;MAChBA,KAAK,CAACC,UAAU,GAAG,CAACD,KAAK,CAACC,UAAU;IACxC,CAAC;IAED;IACAI,OAAOA,CAACL,KAAK,EAAEM,GAAG,EAAE;MAChBN,KAAK,CAACE,IAAI,GAAGI,GAAG;MAChB;MACAR,MAAM,CAACS,GAAG,CAAC,MAAM,EAACC,IAAI,CAACC,SAAS,CAACH,GAAG,CAAC,CAAC;IAC1C,CAAC;IAED;IACAI,OAAOA,CAACV,KAAK,EAACW,MAAM,EAAC;MACd;MACA,IAAI,CAACb,MAAM,CAACc,GAAG,CAAC,MAAM,CAAC,EAAE;MAEzB,MAAMV,IAAI,GAACM,IAAI,CAACK,KAAK,CAACf,MAAM,CAACc,GAAG,CAAC,MAAM,CAAC,CAAC;MACzCZ,KAAK,CAACE,IAAI,GAACA,IAAI;MAEhB,MAAMY,SAAS,GAAC,EAAE;MACjBZ,IAAI,CAACa,OAAO,CAACC,IAAI,IAAE;QACf,IAAGA,IAAI,CAACC,QAAQ,EAAC;UACbD,IAAI,CAACC,QAAQ,CAACC,GAAG,CAACF,IAAI,IAAE;YACpBA,IAAI,CAACG,SAAS,GAAE,MAAI,MAAM,CAAE,YAAWH,IAAI,CAACI,GAAI,EAAC,CAAC;YAClD,OAAOJ,IAAI;UACf,CAAC,CAAC;UACFF,SAAS,CAACO,IAAI,CAAC,GAAGL,IAAI,CAACC,QAAQ,CAAC;QACpC,CAAC,MAAK;UACFD,IAAI,CAACG,SAAS,GAAE,MAAI,MAAM,CAAE,YAAWH,IAAI,CAACI,GAAI,EAAC,CAAC;UAClDN,SAAS,CAACO,IAAI,CAACL,IAAI,CAAC;QACxB;QAEDL,MAAM,CAACW,OAAO,CAACC,MAAM,GAAGP,IAAI;QAC3BL,MAAM,CAACa,OAAO,GAAG,IAAIzB,MAAM,CAACyB,OAAO,CAAD,CAAC,EAAC;QACpCb,MAAM,CAACc,SAAS,CAACd,MAAM,CAACW,OAAO,CAACC,MAAM,CAAC;QACvCT,SAAS,CAACC,OAAO,CAACC,IAAI,IAAE;UACpBL,MAAM,CAACe,QAAQ,CAAC,MAAM,EAACV,IAAI,CAAC;QAChC,CAAC,CAAC;MAEN,CAAC,CAAC;IAET;EAEJ;AAEJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}